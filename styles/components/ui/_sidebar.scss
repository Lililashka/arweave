$sidebar-width: 22rem;

.sidebar {
  transition: width $duration-short;

  width: 0;
  margin: 0;
  z-index: 11;
  box-shadow: 0 0 4px rgba(0, 0, 0, 0.15);


  nav {
    position: fixed;

    z-index: 11;
    width: 0;

    background: white;
  }

  .icon {
    height: max-content;
    width: max-content;

    margin-left: $space-md;
    cursor: pointer;

    div {
      width: 27px;
      height: 2px;
      background-color: black;

      +* {
        margin-top: 0.5rem;
      }
    }
  }

  .close-icon {
    display: none;

    z-index: 1;
    background: white;

    &__inner {
      padding: $space-md;
      float: right;
      cursor: pointer;
    }
  }

  &__content {
    margin-top: $navbar-height;
    transition: transform $duration-short;
    width: $sidebar-width;

    background: white;

    &__inner {
      padding: 0 $space-md $space-md $space-md;
      padding-top: $space-sm + $space-md;

      @include media-screen-small {
        padding-top: $navbar-height;
      }
    }
  }

  &__content.closed {
    transform: translateX(-100%);
  }

  @include media-screen-small {
    nav {
      z-index: 10;
    }

    .close-icon {
      position: fixed;
      right: 0;
      left: 0;
    }

    &__content {
      position: fixed;
      overflow: scroll;
      margin: 0;
      /* Hidden by default */
      width: 100%;
      /* Full width (cover the whole page) */
      height: 100%;
      /* Full height (cover the whole page) */
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;

      -moz-transition: top 0.3s, right 0.3s, bottom 0.3s, left 0.3s;
      -webkit-transition: top 0.3s, right 0.3s, bottom 0.3s, left 0.3s;
      transition: top 0.3s, right 0.3s, bottom 0.3s, left 0.3s;
    }

    &__content.closed {
      transform: none;
      left: -100%;

      .close-icon {
        display: none;
      }
    }

    &__content.open {
      left: 0;

      .close-icon {
        display: block;

        /** Register your custom effects  **/
        @-webkit-keyframes fadeEffect {
          from {
            opacity: 0;
          }

          to {
            opacity: 1;
          }
        }

        @keyframes fadeEffect {
          from {
            opacity: 0;
          }

          to {
            opacity: 1;
          }
        }

        -webkit-animation: fadeEffect 1s;
        animation: fadeEffect 1s;
        /* Fading effect takes 1 second */
      }
    }
  }
}

.sidebar.open {
  width: $sidebar-width;

  nav {
    width: $sidebar-width;
  }

  @include media-screen-small {
    nav {
      width: 0;
    }

    width: 0;
  }
}